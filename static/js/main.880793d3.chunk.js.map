{"version":3,"sources":["Components/MovieDetailsPage/MovieDetails.module.css","Components/Navigation/Navigation.module.css","Components/HomePage/HomePage.module.css","Components/Container/Container.module.css","Components/Container/Container.js","Components/Navigation/Navigation.js","Components/Services/services.js","Components/HomePage/HomePage.js","Components/MoviesPage/MoviesPageForm.js","Components/MoviesPage/MoviesList.js","Components/MoviesPage/MoviesPage.js","Components/MovieDetailsPage/MainDetails.js","Components/MovieDetailsPage/MovieDetailsPage.js","Components/Cast/Cast.js","Components/Reviews/ReviewList.js","Components/NotFoundView/NotFoundView.js","Components/Reviews/Reviews.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","Navigation","to","exact","navLink","activeClassName","activeNavLink","API_KEY","URL","HomePage","popMovies","dispatch","isFirstRender","useRef","useEffect","current","type","payload","fetch","then","res","json","catch","error","console","log","movie","results","firstRenderList","map","title","id","link","MoviesPageForm","onSubmit","inputText","handleInputChange","value","onChange","MoviesList","movieList","film","MoviesPage","state","status","useState","setInputText","movieTitle","setMovieTitle","e","preventDefault","target","MainDetails","movieDetails","dateNormalizer","detailsContainer","pictureBlock","onClick","src","poster_path","alt","poster","dataBlock","release_date","vote_average","overview","genres","gener","generList","name","MovieDetailsPage","params","useParams","movieId","date","substring","Cast","cast","details","character","profile_path","ReviewList","reviews","author","content","NotFoundView","Review","review","initialState","setReduser","action","App","useReducer","path","Reviews","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.880793d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsContainer\":\"MovieDetails_detailsContainer__2HWcA\",\"pictureBlock\":\"MovieDetails_pictureBlock__1P21w\",\"dataBlock\":\"MovieDetails_dataBlock__krZ5f\",\"generList\":\"MovieDetails_generList__2JuwP\",\"poster\":\"MovieDetails_poster__cpS5S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"Navigation_navLink__2GBUT\",\"activeNavLink\":\"Navigation_activeNavLink__2Jl3b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"firstRenderList\":\"HomePage_firstRenderList__22Y8C\",\"link\":\"HomePage_link__2EDkA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3BstT\"};","import s from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n    <div className={s.Container}>{ children }</div>\r\n)\r\n\r\nexport default Container;","import { NavLink } from \"react-router-dom\"\r\nimport s from './Navigation.module.css'\r\n\r\n\r\n\r\nconst Navigation = () => {\r\n    return (\r\n        <nav>\r\n            <NavLink to=\"/\" exact className={s.navLink} activeClassName={s.activeNavLink}>Homepage</NavLink>\r\n            <NavLink to=\"/Movies\" className={s.navLink} activeClassName={s.activeNavLink}>Movies</NavLink>\r\n            <hr />\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navigation","const API_KEY = '6e769984a853ea1bdeede26e9a1ea504'\r\nconst URL = 'https://api.themoviedb.org/3/'\r\n\r\nconst firstFetch = () => {\r\n    return (fetch(`${URL}trending/all/day?api_key=${API_KEY}&language=en-US`)\r\n        .then(res => res.json())\r\n        .catch(error => console.log(error))\r\n    );\r\n        \r\n}\r\nconst fetchByMovieTitle = (title) => {\r\n    return (\r\n        fetch(`${URL}search/movie?api_key=${API_KEY}&query=${title}`)\r\n            .then(res => res.json())\r\n            .catch(error => console.log(error))\r\n    );\r\n\r\n}\r\n\r\nconst fetchMovieById = (id) => {\r\n    return (\r\n        fetch(`${URL}movie/${id}?api_key=${API_KEY}`)\r\n            .then(res => res.json())\r\n            .catch(error => console.log(error))\r\n    );\r\n}\r\n\r\nconst fetchMovieCast = (id) => {\r\n    return (\r\n        fetch(`${URL}movie/${id}/credits?api_key=${API_KEY}`)\r\n            .then(res => res.json())\r\n            .catch(error => console.log(error))\r\n    );\r\n}\r\n\r\nconst fetchMovieReviews = (id) => {\r\n    return (\r\n        fetch(`${URL}movie/${id}/reviews?api_key=${API_KEY}`)\r\n            .then(res => res.json())\r\n            .catch(error => console.log(error))\r\n    );\r\n}\r\n\r\nexport {\r\n    firstFetch,\r\n    fetchByMovieTitle,\r\n    fetchMovieById,\r\n    fetchMovieCast,\r\n    fetchMovieReviews\r\n}","import {  useEffect, useRef } from 'react';\r\nimport { Link, } from \"react-router-dom\"\r\nimport { firstFetch } from \"../Services/services\"\r\nimport s from './HomePage.module.css'\r\n\r\n\r\n\r\nconst HomePage = ({ popMovies, dispatch }) => {\r\n    const isFirstRender = useRef(true);\r\n\r\n    useEffect(() => {\r\n\r\n        if (isFirstRender.current) {\r\n            dispatch({ type: 'resetDetailsData' });\r\n            dispatch({ type: 'setStatus', payload: 'pending' });\r\n            firstFetch().then(movie => {\r\n                dispatch({ type: 'setPopMovies', payload: movie.results })\r\n                dispatch({ type: 'setStatus', payload: 'resolved' });\r\n            })\r\n                .catch(error => { console.log(error) });\r\n            isFirstRender.current = false\r\n            return\r\n        };\r\n    });\r\n    \r\n    return (\r\n        <>\r\n        <h1>Trending today</h1>\r\n        <ul className={s.firstRenderList}>\r\n                {popMovies.map((movie) => { \r\n                    if (movie.title) {\r\n                        return (<li key={movie.id} ><Link to={`movies/${movie.id}`} className={s.link}>{movie.title}</Link></li> )\r\n                    };\r\n            })}\r\n        </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default HomePage","const MoviesPageForm = ({onSubmit, inputText, handleInputChange}) => {\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n                    <input type=\"text\" value={inputText} onChange={handleInputChange}></input>\r\n                    <button type=\"submit\">Search</button>\r\n                </form>\r\n    )\r\n}\r\nexport default MoviesPageForm","import { Link } from \"react-router-dom\"\r\n\r\nconst MoviesList = ({ movieList }) => {\r\n    return (\r\n        <ul>\r\n            {movieList.map(film => {\r\n                return (<li key={film.id}><Link to={`movies/${film.id}`}>{film.title}</Link></li>)\r\n            })}\r\n        </ul>\r\n    );\r\n\r\n}\r\nexport default MoviesList\r\n","import { fetchByMovieTitle } from \"../Services/services\"\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport MoviesPageForm from './MoviesPageForm'\r\nimport MoviesList from './MoviesList'\r\n\r\nconst MoviesPage = ({ state: { status, movieList }, dispatch }) => {\r\n\r\n    const [inputText, setInputText] = useState('');\r\n    const [movieTitle, setMovieTitle] = useState('');\r\n    \r\n    const isFirstRender = useRef(true);\r\n\r\n    useEffect(() => {\r\n        if (isFirstRender.current) {\r\n            dispatch({ type: 'resetDetailsData' });\r\n            isFirstRender.current = false\r\n            return\r\n        };\r\n        \r\n        dispatch({ type: 'setStatus', payload: 'pending' });\r\n        fetchByMovieTitle(movieTitle).then(movie => {\r\n            dispatch({ type: 'setMovieList', payload: movie.results });\r\n            dispatch({ type: 'setStatus', payload: 'resolved' });\r\n\r\n        })\r\n            .catch(error => {\r\n                dispatch({ type: 'setStatus', payload: 'rejected' });\r\n                console.log(error)\r\n            });\r\n        \r\n    }, [movieTitle, dispatch])\r\n\r\n    \r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        setMovieTitle(inputText);\r\n    }\r\n\r\n    const handleInputChange = (e) => {\r\n        setInputText(e.target.value)\r\n\r\n    }\r\n    \r\n\r\n    if (status === 'idle') {\r\n        return (\r\n            <MoviesPageForm onSubmit={onSubmit} handleInputChange={handleInputChange} inputText={inputText} />\r\n        );\r\n    };\r\n    if (status === 'pending') {\r\n        return <p>Загрузка...</p>\r\n    };\r\n    if (status === 'resolved') {\r\n        return (\r\n            <>\r\n                <MoviesPageForm onSubmit={onSubmit} handleInputChange={handleInputChange} inputText={inputText} />\r\n                <MoviesList movieList={movieList} />\r\n            </>\r\n        );\r\n    };\r\n    if (status === 'rejected') {\r\n        <h2>Ничего не найдено :( </h2>\r\n    };\r\n};\r\nexport default MoviesPage","import s from './MovieDetails.module.css'\r\nimport { Link } from \"react-router-dom\"\r\n\r\n\r\nconst MainDetails = ({ movieDetails, dateNormalizer }) => {\r\n\r\n    const backToSerch = () => {\r\n        \r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={s.detailsContainer}>\r\n                <div className={s.pictureBlock}>\r\n                <Link to={'/'}><button type=\"button\" onClick={backToSerch}>Go back</button></Link>\r\n                \r\n                <img src={`https://image.tmdb.org/t/p/w300${movieDetails.poster_path}?api_key=6e769984a853ea1bdeede26e9a1ea504`} alt={movieDetails.title} className={s.poster}/>\r\n            </div>\r\n            <div className={s.dataBlock}>\r\n                <h1>{movieDetails.title} ({dateNormalizer(movieDetails.release_date)})</h1>\r\n                <p>User sorce: {movieDetails.vote_average * 10}%</p>\r\n                <h2>Overview</h2>\r\n                <p>{movieDetails.overview}</p>\r\n                <h2>Geners</h2>\r\n                <ul>\r\n                    {movieDetails.genres.map(gener => {\r\n                        return <li key={gener.id} className={s.generList}>{gener.name}</li>\r\n                    })}\r\n                </ul>\r\n           </div>\r\n        </div>\r\n        <hr />\r\n        </>\r\n      \r\n    );\r\n}\r\n\r\nexport default MainDetails","import { useParams, Link } from \"react-router-dom\"\r\nimport { useEffect, useRef } from 'react';\r\nimport { fetchMovieById } from \"../Services/services\"\r\nimport MainDetails from \"./MainDetails\";\r\n\r\n\r\nconst MovieDetailsPage = ({state: { status, movieDetails }, dispatch}) => {\r\n    const params = useParams();\r\n    const isFirstRender = useRef(true);\r\n\r\n    useEffect(() => {\r\n        if (isFirstRender.current) {\r\n            dispatch({type:'setStatus', payload: 'pending'})\r\n            fetchMovieById(params.movieId)\r\n                .then(movie => {\r\n                    dispatch({type: 'setMovieDetails', payload: movie})\r\n                    dispatch({type:'setStatus', payload: 'resolved'})\r\n                }).catch(error => { console.log(error) });\r\n            isFirstRender.current = false\r\n            return\r\n        };\r\n    })\r\n\r\n    const dateNormalizer = (date) => {\r\n      return  date.substring(0, 4)\r\n    }\r\n\r\n\r\n\r\n    return (movieDetails && <>\r\n        \r\n        <MainDetails movieDetails={movieDetails} dateNormalizer={dateNormalizer} />\r\n        <h3>Aditional information</h3>\r\n        <ul>\r\n            <li><Link to={`/movies/${params.movieId}/Cast`}>Cast</Link></li>\r\n            <li><Link to={`/movies/${params.movieId}/Reviews`}>Reviws</Link></li>\r\n        </ul>\r\n        \r\n         <hr />\r\n        </>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default MovieDetailsPage;","import { useParams } from \"react-router-dom\"\r\nimport { fetchMovieCast } from '../Services/services'\r\nimport { useEffect, useRef } from 'react';\r\n\r\n\r\nconst Cast = ({state: {cast, status}, dispatch}) => {\r\n\r\n    const isFirstRender = useRef(true);\r\n    const params = useParams()\r\n\r\n    \r\n    useEffect(() => {\r\n        if (isFirstRender.current) {\r\n            dispatch({type:'setStatus', payload: 'pending'})\r\n            fetchMovieCast(params.movieId)\r\n                .then(movie => {\r\n                    dispatch({type: 'setCast', payload: movie.cast})\r\n                    dispatch({type:'setStatus', payload: 'resolved'})\r\n                }).catch(error => { console.log(error) });\r\n            isFirstRender.current = false\r\n            return\r\n        };\r\n})\r\n\r\n    return (\r\n        <ul>\r\n            {cast.map(details => {\r\n                return <li key={details.id}>\r\n                    <h4>{details.character}: {details.name}</h4>\r\n                    <img src={`https://image.tmdb.org/t/p/w300${details.profile_path}?api_key=6e769984a853ea1bdeede26e9a1ea504`} alt={`${details.name}`} />\r\n                  \r\n                    \r\n                </li>\r\n            })}\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default Cast","const ReviewList = ({reviews}) => {\r\n    return (\r\n        <ul>\r\n            {reviews.map(details => {\r\n                return <li key={details.id}>\r\n                    <h3>{details.author}</h3>\r\n                    <p>{details.content}</p>\r\n                </li>\r\n            })}\r\n        </ul>);\r\n    \r\n}\r\n\r\nexport default ReviewList","const NotFoundView = () => {\r\n    return (\r\n        <p>We don't have any reviews for this movie</p>\r\n    )\r\n}\r\n\r\nexport default NotFoundView","import { useParams } from \"react-router-dom\"\r\nimport { fetchMovieReviews } from '../Services/services'\r\nimport { useEffect, useRef } from 'react';\r\nimport ReviewList from \"./ReviewList\";\r\nimport NotFoundView from \"../NotFoundView/NotFoundView\";\r\n\r\n\r\nconst Review = ({state: {reviews, status}, dispatch}) => {\r\n\r\n    const isFirstRender = useRef(true);\r\n    const params = useParams()\r\n\r\n    \r\n    useEffect(() => {\r\n        if (isFirstRender.current) {\r\n            dispatch({type:'setStatus', payload: 'pending'})\r\n            fetchMovieReviews(params.movieId)\r\n                .then(review => {\r\n                    dispatch({type: 'setReviews', payload: review.results})\r\n                    dispatch({type:'setStatus', payload: 'resolved'})\r\n                }).catch(error => { console.log(error) });\r\n            isFirstRender.current = false\r\n            return\r\n        };\r\n    })\r\n\r\n    return (reviews[0] ? <ReviewList reviews={reviews} /> : <NotFoundView />)\r\n    \r\n\r\n    // return (\r\n    //     <ReviewList reviews={reviews} />\r\n    // );\r\n\r\n}\r\n\r\nexport default Review","import './App.css';\nimport { Route, Switch, BrowserRouter } from 'react-router-dom';\nimport { useReducer } from 'react';\nimport Container from './Components/Container/Container';\nimport Navigation from './Components/Navigation/Navigation';\nimport HomePage from './Components/HomePage/HomePage'\nimport MoviesPage from './Components/MoviesPage/MoviesPage'\nimport MovieDetailsPage from './Components/MovieDetailsPage/MovieDetailsPage'\nimport Cast from './Components/Cast/Cast'\nimport Reviews from './Components/Reviews/Reviews'\n\n\nconst initialState = {\n  popMovies: [],\n  movieList: [],\n  status: 'idle',\n  movieDetails: null,\n  cast: [],\n  reviews: null\n}\n\nfunction setReduser(state, action) {\n  switch (action.type) {\n    case 'setStatus':\n      return { ...state, status: action.payload };\n    case 'setPopMovies':\n      return { ...state, popMovies: action.payload };\n    case 'setMovieList':\n      return { ...state, movieList: action.payload };\n    case 'setMovieDetails':\n      return { ...state, movieDetails: action.payload };\n    case 'setCast':\n      return { ...state, cast: action.payload };\n    case 'setReviews':\n      return { ...state, reviews: action.payload };\n    case 'resetDetailsData':\n      return {...state, movieDetails: null, cast: [], reviews: []}\n    default: console.log(`unexpected action type ${action.type}`)\n  };\n    \n}\n\nconst App = () => {\n\n  const [state, dispatch] = useReducer(setReduser, initialState)\n\n\n  return (\n    <BrowserRouter>\n      <Container>\n      <Navigation />\n      <Switch>\n          <Route path=\"/\" exact>\n            <HomePage popMovies={state.popMovies} dispatch={dispatch}/>\n          </Route>\n          <Route path=\"/movies\" exact>\n            <MoviesPage state={state} dispatch={dispatch} />\n          </Route>\n          <Route path=\"/movies/:movieId\" exact>\n            <MovieDetailsPage state={state} dispatch={dispatch} />\n          </Route>\n          <Route path=\"/movies/:movieId/Cast\" exact>\n            <MovieDetailsPage state={state} dispatch={dispatch} />\n            <Cast state={state} dispatch={dispatch} />\n          </Route>\n          <Route path=\"/movies/:movieId/Reviews\" >\n            <MovieDetailsPage state={state} dispatch={dispatch} />\n            <Reviews state={state} dispatch={dispatch} />\n          </Route>\n          <Route>\n            <HomePage />\n          </Route>\n      </Switch>\n      \n    </Container>\n    </BrowserRouter>\n    \n    \n\n  );\n\n  \n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}